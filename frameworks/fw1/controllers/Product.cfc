component accessors="true" {	property name="productService";	property name="categoryService";	property name="validationService";	public Product function init(fw){		variables.fw = arguments.fw;		return this;	}	public void function index(rc){		variables.fw.redirect('product.list');	}		public void function list(rc){		rc.products = productService.list();	}		public void function edit(rc){		param name="rc.product_id" default="";				if( !structKeyExists(rc,"product")){	        rc.product = productService.get( rc.product_id );					}				rc.categories = categoryService.list();	}			public void function save(rc){		rc.product = variables.fw.populate(productService.get(rc.product_id));				if( structKeyExists(rc,"categories") ){			rc.product.setCategories( categoryService.loadById(form.categories) );		}						var result = validationService.validate(rc.product);				if( !result.hasErrors() ){			productService.save(rc.product);			rc.success = "Product Saved!";			variables.fw.redirect('product.list','success');			} else {			rc.errors = result.getErrorMessages();			variables.fw.redirect('product.edit','errors,product');					}			}}